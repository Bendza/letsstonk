# Supabase Edge Functions Cron Configuration
# This file defines the cron schedule for automated rebalancing

functions:
  rebalance:
    # Run daily at 3 AM UTC (0 3 * * *)
    # This timing avoids US market hours and high-traffic periods
    schedule: "0 3 * * *"
    
    # Environment variables for the function
    env:
      SOLANA_RPC_URL: ${SOLANA_RPC_URL}
      SUPABASE_URL: ${SUPABASE_URL}
      SUPABASE_SERVICE_ROLE_KEY: ${SUPABASE_SERVICE_ROLE_KEY}
    
    # Function configuration
    timeout: 300 # 5 minutes timeout
    memory: 512 # 512MB memory allocation
    
    # Retry configuration
    retry:
      max_attempts: 3
      backoff_multiplier: 2
      initial_delay: 1000 # 1 second
